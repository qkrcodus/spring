[ 스프링 설정 정보는 항상 `@Configuration`를 사용하자 ]
### 컴포넌트 스캔과 의존관계 자동 주입 시작하기

스프링 빈을 등록할 때는 자바 코드의 @Bean 을 붙여줬어야 했지만, 자동으로 스프링 빈을 등록하는 @ComponentScan이 이 번거로움을 해결해준다.

`@Component` 애노테이션이 붙은 클래스를 스캔해서 스프링 빈으로 등록한다.

-> 구현체들 (MemberServiceImpl,MemoryMemberRepository,RateDiscountPolicy, OrderServiceImpl) 위에 `@Component` 를 붙여주고

지금 AutoAppConfig 엔 아무것도 없기에 @Autowired 로 의존관계를 주입한다.

![](https://i.imgur.com/p8tsHZe.png)

![](https://i.imgur.com/VorxRSb.png)
- OrderServiceImpl 구현체에 생성자 위에 @Autowired 를 붙여 memberRepository랑 discountPolicy 에 대한 의존관계를 주입하고

- MemberServiceImpl 구현체에 생성자 위에 @Autowired 를 붙여 memberRepository에 대한 의존관계를 주입한다.

잘 되었는지 확인 
#### AutoAppConfigTest
![](https://i.imgur.com/bzCnIyC.png)

1. @ComponentScan
![](https://i.imgur.com/FctPDCz.png)
@ComponentScan 는 @Component 가 붙은 모든 클래스를 클래스명 앞글자를 소문자로 바꾼뒤 이를 스프링 빈 이름으로 등록한다.

2. @Autowired 의존 관계 자동 주입
![](https://i.imgur.com/ivHKqVx.png)
타입이 같은 빈 ( 상속 관계 포함 )을 스프링 빈 저장소에서 찾아 스프링 컨테이너가 이를 주입해준다. 매개변수가 여러개여도 다 찾아서 주입한다. 

---



