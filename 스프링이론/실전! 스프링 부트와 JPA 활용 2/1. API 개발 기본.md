jpa를 사용하며 엔티티라는 개념이 나왔다. 엔티티를 활용하여 api 를 잘 만들어보자.
### 회원 등록 api
jpashop 아래 api 패키지를 새로 만들자.
#### Member
![](https://i.imgur.com/EKfd5Wr.png)

![](https://i.imgur.com/M7b9MMT.png)
![](https://i.imgur.com/0bNabUh.png)

@Valid 설정은 validation을 확인한다.
![](https://i.imgur.com/XiEaB62.png)
![](https://i.imgur.com/Ba72zSB.png)

#### 하지만, 엔티티는 여러 곳에서 쓰이기 때문에 @NoEmpty 와 같은 어노테이션을 엔티티에 넣는 것은 위험하다. api 를 위한 전용 dto 를 만들자.

request 와 response 모두 새로운 객체를 만들자.
#### MemberApiController
@RequestBody 는 json 데이터를 member 객체에 매핑한다.
![](https://i.imgur.com/XM6fCWu.png)

- dto( api 스펙에 맞는 별도의 객체 )를 사용할 때의 이점
클라이언트로부터 전달 받은 데이터가 어떤 구조를 갖고 있는지 명확하게 알기 쉽고, 필요한 밸리데이션을 설정할 수 있다. 여기서 DTO는 사용자 이름을 받는 역할을 한다. 
name 위에 @NotEmpty 해두면 이름은 필수로 보내주게끔 되어있다.